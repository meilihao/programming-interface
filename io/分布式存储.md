# 分布式存储
特点:
1. 可扩展
1. 低成本
1. 高性能
1. 易用
1. 高可用

难点: 数据内容, 元数据的持久化, 要求在自动迁移,自动容错,并发读写的过程中保证数据的一致性.

相关内容:
1. 数据分布
1. 多副本一致性
1. 容错
1. 负载均衡
1. 事务与并发控制
1. 易用性
1. 解压缩

分类:
1. 分布式文件系统
1. 分布式kv系统
1. 分布式表格系统
1. 分布式数据库

> 分布式表格系统主要针对单表操作.

## 对象存储
对象 = 数据 + 元数据

## 纠删码(erasure code)
纠删码是一种恢复丢失和损坏数据的数学算法，目前，纠删码技术在分布式存储系统中的应用主要有三类:
- 阵列纠删码（Array Code: RAID5、RAID6等）
- RS(Reed-Solomon)里德-所罗门类纠删码
- LDPC(LowDensity Parity Check Code)低密度奇偶校验纠删码

Erasure Code是一种编码技术，它可以将n份原始数据，增加m份数据，并能通过n+m份中的任意n份数据，还原为原始数据, 即如果**有任意小于等于m份的数据失效，仍然能通过剩下的数据还原出来**, 简单的说就是**纠删码最多能容忍m个数据块被删除**.

HDFS、盘古等是多副本模式(比如3副本)，只要还有一个机器在，数据就不会丢失, 但这样磁盘的利用率其实挺低的，只有原始容量的1/3; minio使用的是erasure code, 磁盘利用率为n/(n+m), n为原始数据块, m为校验块. 与多副本相比, erasure code可认为是用cpu利用率节省磁盘空间.

基于纠删码的方法与多副本方法相比具有冗余度低、磁盘利用率高等优点，但计算、网络开销大，恢复效率低.

存储系统通常使用[RS(Reed Solomon)码](https://juejin.cn/post/6844903460928913421), 这里有一个golang的[reedsolomon](https://github.com/klauspost/reedsolomon).

> 阿里盘古使用`N+3`形式的纠删码

## checksum
checksum, 比如[高速HighwayHash(基于哈希的校验)](https://github.com/minio/highwayhash)可判别数据受硬件故障和静默数据损坏(也叫位衰减bit rot, 或数据腐化Data Rot, 或无声数据损坏Silent Data Corruption), 再结合erasure code/多副本机制, 可确保数据不损坏.