# 集群
集群是一组协同工作的服务集合(由两个及以上的服务实体组成), 提供比单一服务更稳定, 更高效, 更具可扩展性的服务平台.

特点:
- 高可用(high availability)

    最大限度地保障服务可用, 出现故障时, 自动进行故障处理. 高可用不保障数据的安全性.

    心跳是保持节点间内部通信的有效性, 而心跳监控的效率直接影响故障切换时间的长短.
    漂移ip: 节点本身的ip也能对外服务, 但故障时会导致服务中断, 而漂移ip可自动切换到备用解决而保障服务不中断.
- 可扩展性

    可动态加入节点以增强集群的整体性能

常见集群:
- ha集群

    常见ha集群:
    - 双机热备. 即active/standby方式.
    - 双机互备. 在双机热备基础上互为主备. 故障切换后一个server负载原有两个server的服务, 容易负载过大.
    - 多机互备. 双机热备的技术升级.

- 负载均衡(load balance)集群

    与ha集群不同, lb集群的所有后端节点都是活动的, 但需要监控屏蔽故障节点.

    常见的有:
    - LVS集群
    - Oracle RAC集群
    - F5 Networks
- 分布式集群

ha集群术语:
- 节点

    运行heartbeat进程的一个独立主机即为节点. 它是ha集群的核心组成部分.
- 资源

    一个节点可控制的实体. 故障切换时, 该资源可被其他节点接管. 常见资源是磁盘阵列.
- 事件

    集群中可能发生的事
- 动作

    处理事件的方式