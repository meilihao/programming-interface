# arm

ARM 处理器分为 7 种工作模式:
1. 用户模式(usr):大多数应用程序运行在用户模式下,当处理器运行在用户模式下时, 某些被保护的系统资源是不能访问的
1. 快速中断模式(fiq):用于高速数据传输或通道处理
1. 外部中断模式(irq):用于通用的中断处理
1. 管理模式(svc):操作系统使用的保护模式
1. 数据访问中止模式(abt):当数据或指令预取中止时进入该模式,可用于虚拟存储及存储保护
1. 系统模式(sys):运行具有特权的操作系统任务
1. 未定义指令中止模式(und):当未定义的指令执行时进入该模式,可用于支持硬件协处理器的软件仿真

ARM Linux 的系统调用实现原理是采用 swi 软中断从用户(usr)模式陷入管理模式(svc)

一般的 SoC 内嵌入了 bootrom,上电时 bootrom 运行. 对于 CPU0 而言,bootrom 会去引导 bootloader,而其他 CPU 则判断自己是不是 CPU0,进入 WFI 的状态等待 CPU0 来唤醒它.

> Bootrom（或Boot ROM）是嵌入处理器芯片内的一小块掩模ROM或写保护闪存. 它包含处理器在上电或复位时执行的第一个代码. bootrom是各个SoC厂家根据自身情况编写的,目前的SoC一般都具有从SD、
eMMC、NAND、USB等介质启动的能力, 这证明这些bootrom内部的代码具备读 SD、NAND 等能力.