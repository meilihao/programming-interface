# stack
栈 我们通常指保存局部变量，具有先进后出 (FILO) 特性的一段高内存地址空间，维护这个 栈 结构而使用两个寄存器：栈指针 rsp 、帧指针 rbp. 当程序调用层数比较深时，栈内存呈现出一块一块连续空间，每一块空间属于某一个调用对像，这个块可以称之为帧(stack frame), 即栈帧表示程序的函数调用记录.

通常所有参数直接用寄存器传递, 而使用栈帧的情况:
- 调用过程中需要的存储空间**超出**寄存器能够存放的大小(最多6个整型参数)时
- 一个局部变量使用了指针
- 某些局部变量是数组或struct

> 通过栈传递参数时, 所有的数据大小都要向8的倍数对齐. 而引用传参时调用代码必定要分配一个栈帧.

寄存器使用顺序: `rdi, rsi, rdx, rcx, r8, r9`